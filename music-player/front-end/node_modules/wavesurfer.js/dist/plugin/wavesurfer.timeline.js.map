{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 212862eb802a8640f50e","webpack:///./src/plugin/timeline.js"],"names":["TimelinePlugin","params","name","deferInit","instance","ws","container","document","querySelector","Error","wavesurfer","util","extend","height","notchPercentHeight","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","fontFamily","fontSize","formatTimeCallback","seconds","minutes","parseInt","timeInterval","pxPerSec","primaryLabelInterval","secondaryLabelInterval","canvases","_onScroll","wrapper","scrollLeft","drawer","_onRedraw","render","_onReady","pixelRatio","maxCanvasWidth","width","maxCanvasElementWidth","Math","round","createWrapper","addEventListener","on","isReady","unAll","un","removeEventListener","parentNode","removeChild","wsParams","appendChild","createElement","style","display","position","userSelect","webkitUserSelect","fillParent","scrollParent","overflowX","overflowY","_onClick","e","preventDefault","relX","offsetX","layerX","fireEvent","scrollWidth","length","canvas","pop","parentElement","removeOldCanvases","totalWidth","requiredCanvases","ceil","i","push","zIndex","createCanvases","updateCanvasStyle","drawTimeCanvases","canvasWidth","left","backend","duration","getDuration","totalSeconds","getWidth","pixelsPerSecond","formatTime","intervalFnOrVal","option","curPixel","curSeconds","height1","height2","setFillStyles","fillRect","setFonts","fillText","fillStyle","forEach","getContext","font","x","y","leftOffset","intersection","x1","max","y1","x2","min","y2","text","textWidth","xOffset","context","measureText"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;AChEA;;;;;;;;;;;;;;;;;;;;AAoBA;;;;;;;;;;;;;;;;;;;;;;;;;IAyBqBA,c;;;;AACjB;;;;;;;;;+BAScC,M,EAAQ;AAClB,mBAAO;AACHC,sBAAM,UADH;AAEHC,2BAAWF,UAAUA,OAAOE,SAAjB,GAA6BF,OAAOE,SAApC,GAAgD,KAFxD;AAGHF,wBAAQA,MAHL;AAIHG,0BAAUJ;AAJP,aAAP;AAMH;;;AAED,4BAAYC,MAAZ,EAAoBI,EAApB,EAAwB;AAAA;;AAAA;;AACpB,aAAKC,SAAL,GAAiB,YAAY,OAAOL,OAAOK,SAA1B,GACXC,SAASC,aAAT,CAAuBP,OAAOK,SAA9B,CADW,GAEXL,OAAOK,SAFb;;AAIA,YAAI,CAAC,KAAKA,SAAV,EAAqB;AACjB,kBAAM,IAAIG,KAAJ,CAAU,sCAAV,CAAN;AACH;AACD,aAAKC,UAAL,GAAkBL,EAAlB;AACA,aAAKM,IAAL,GAAYN,GAAGM,IAAf;AACA,aAAKV,MAAL,GAAc,KAAKU,IAAL,CAAUC,MAAV,CAAiB,EAAjB,EAAqB;AAC/BC,oBAAQ,EADuB;AAE/BC,gCAAoB,EAFW;AAG/BC,0BAAc,MAHiB;AAI/BC,4BAAgB,SAJe;AAK/BC,8BAAkB,MALa;AAM/BC,gCAAoB,MANW;AAO/BC,wBAAY,OAPmB;AAQ/BC,sBAAU,EARqB;AAS/BC,8BAT+B,8BASZC,OATY,EASH;AACxB,oBAAIA,UAAU,EAAV,GAAe,CAAnB,EAAsB;AAClB;AACA,wBAAMC,UAAUC,SAASF,UAAU,EAAnB,EAAuB,EAAvB,CAAhB;AACAA,8BAAUE,SAASF,UAAU,EAAnB,EAAuB,EAAvB,CAAV;AACA;AACAA,8BAAWA,UAAU,EAAX,GAAiB,MAAMA,OAAvB,GAAiCA,OAA3C;AACA,2BAAUC,OAAV,SAAqBD,OAArB;AACH;AACD,uBAAOA,OAAP;AACH,aAnB8B;AAoB/BG,wBApB+B,wBAoBlBC,QApBkB,EAoBR;AACnB,oBAAIA,YAAY,EAAhB,EAAoB;AAChB,2BAAO,CAAP;AACH,iBAFD,MAEO,IAAIA,WAAW,CAAX,IAAgB,EAApB,EAAwB;AAC3B,2BAAO,CAAP;AACH,iBAFM,MAEA,IAAIA,WAAW,EAAX,IAAiB,EAArB,EAAyB;AAC5B,2BAAO,EAAP;AACH;AACD,uBAAO,EAAP;AACH,aA7B8B;AA8B/BC,gCA9B+B,gCA8BVD,QA9BU,EA8BA;AAC3B,oBAAIA,YAAY,EAAhB,EAAoB;AAChB,2BAAO,EAAP;AACH,iBAFD,MAEO,IAAIA,WAAW,CAAX,IAAgB,EAApB,EAAwB;AAC3B,2BAAO,CAAP;AACH,iBAFM,MAEA,IAAIA,WAAW,EAAX,IAAiB,EAArB,EAAyB;AAC5B,2BAAO,CAAP;AACH;AACD,uBAAO,CAAP;AACH,aAvC8B;AAwC/BE,kCAxC+B,kCAwCRF,QAxCQ,EAwCE;AAC7B,oBAAIA,YAAY,EAAhB,EAAoB;AAChB,2BAAO,CAAP;AACH,iBAFD,MAEO,IAAIA,WAAW,CAAX,IAAgB,EAApB,EAAwB;AAC3B,2BAAO,CAAP;AACH,iBAFM,MAEA,IAAIA,WAAW,EAAX,IAAiB,EAArB,EAAyB;AAC5B,2BAAO,CAAP;AACH;AACD,uBAAO,CAAP;AACH;AAjD8B,SAArB,EAkDXzB,MAlDW,CAAd;;AAoDA,aAAK4B,QAAL,GAAgB,EAAhB;;AAEA,aAAKC,SAAL,GAAiB,YAAM;AACnB,kBAAKC,OAAL,CAAaC,UAAb,GAA0B,MAAKC,MAAL,CAAYF,OAAZ,CAAoBC,UAA9C;AACH,SAFD;AAGA,aAAKE,SAAL,GAAiB;AAAA,mBAAM,MAAKC,MAAL,EAAN;AAAA,SAAjB;AACA,aAAKC,QAAL,GAAgB,YAAM;AAClB,kBAAKH,MAAL,GAAc5B,GAAG4B,MAAjB;AACA,kBAAKI,UAAL,GAAkBhC,GAAG4B,MAAH,CAAUhC,MAAV,CAAiBoC,UAAnC;AACA,kBAAKC,cAAL,GAAsBjC,GAAG4B,MAAH,CAAUK,cAAV,IAA4BjC,GAAG4B,MAAH,CAAUM,KAA5D;AACA,kBAAKC,qBAAL,GAA6BnC,GAAG4B,MAAH,CAAUO,qBAAV,IAAmCC,KAAKC,KAAL,CAAW,MAAKJ,cAAL,GAAsB,MAAKD,UAAtC,CAAhE;;AAEA,kBAAKM,aAAL;AACA,kBAAKR,MAAL;AACA9B,eAAG4B,MAAH,CAAUF,OAAV,CAAkBa,gBAAlB,CAAmC,QAAnC,EAA6C,MAAKd,SAAlD;AACAzB,eAAGwC,EAAH,CAAM,QAAN,EAAgB,MAAKX,SAArB;AACH,SAVD;AAWH;;;;+BAEM;AACH,iBAAKxB,UAAL,CAAgBmC,EAAhB,CAAmB,OAAnB,EAA4B,KAAKT,QAAjC;AACA;AACA,gBAAI,KAAK1B,UAAL,CAAgBoC,OAApB,EAA6B;AACzB,qBAAKV,QAAL;AACH;AACJ;;;kCAES;AACN,iBAAKW,KAAL;AACA,iBAAKrC,UAAL,CAAgBsC,EAAhB,CAAmB,QAAnB,EAA6B,KAAKd,SAAlC;AACA,iBAAKxB,UAAL,CAAgBsC,EAAhB,CAAmB,OAAnB,EAA4B,KAAKZ,QAAjC;AACA,iBAAK1B,UAAL,CAAgBuB,MAAhB,CAAuBF,OAAvB,CAA+BkB,mBAA/B,CAAmD,QAAnD,EAA6D,KAAKnB,SAAlE;AACA,gBAAI,KAAKC,OAAL,IAAgB,KAAKA,OAAL,CAAamB,UAAjC,EAA6C;AACzC,qBAAKnB,OAAL,CAAamB,UAAb,CAAwBC,WAAxB,CAAoC,KAAKpB,OAAzC;AACA,qBAAKA,OAAL,GAAe,IAAf;AACH;AACJ;;;wCAEe;AAAA;;AACZ,gBAAMqB,WAAW,KAAK1C,UAAL,CAAgBT,MAAjC;AACA,iBAAK8B,OAAL,GAAe,KAAKzB,SAAL,CAAe+C,WAAf,CACX9C,SAAS+C,aAAT,CAAuB,UAAvB,CADW,CAAf;AAGA,iBAAK3C,IAAL,CAAU4C,KAAV,CAAgB,KAAKxB,OAArB,EAA8B;AAC1ByB,yBAAS,OADiB;AAE1BC,0BAAU,UAFgB;AAG1BC,4BAAY,MAHc;AAI1BC,kCAAkB,MAJQ;AAK1B9C,wBAAW,KAAKZ,MAAL,CAAYY,MAAvB;AAL0B,aAA9B;;AAQA,gBAAIuC,SAASQ,UAAT,IAAuBR,SAASS,YAApC,EAAkD;AAC9C,qBAAKlD,IAAL,CAAU4C,KAAV,CAAgB,KAAKxB,OAArB,EAA8B;AAC1BQ,2BAAO,MADmB;AAE1BuB,+BAAW,QAFe;AAG1BC,+BAAW;AAHe,iBAA9B;AAKH;;AAED,iBAAKC,QAAL,GAAgB,aAAK;AACjBC,kBAAEC,cAAF;AACA,oBAAMC,OAAO,aAAaF,CAAb,GAAiBA,EAAEG,OAAnB,GAA6BH,EAAEI,MAA5C;AACA,uBAAKC,SAAL,CAAe,OAAf,EAAyBH,OAAO,OAAKpC,OAAL,CAAawC,WAArB,IAAqC,CAA7D;AACH,aAJD;AAKA,iBAAKxC,OAAL,CAAaa,gBAAb,CAA8B,OAA9B,EAAuC,KAAKoB,QAA5C;AACH;;;4CAEmB;AAChB,mBAAO,KAAKnC,QAAL,CAAc2C,MAAd,GAAuB,CAA9B,EAAiC;AAC7B,oBAAMC,SAAS,KAAK5C,QAAL,CAAc6C,GAAd,EAAf;AACAD,uBAAOE,aAAP,CAAqBxB,WAArB,CAAiCsB,MAAjC;AACH;AACJ;;;yCAEgB;AACb,iBAAKG,iBAAL;;AAEA,gBAAMC,aAAapC,KAAKC,KAAL,CAAW,KAAKT,MAAL,CAAYF,OAAZ,CAAoBwC,WAA/B,CAAnB;AACA,gBAAMO,mBAAmBrC,KAAKsC,IAAL,CAAUF,aAAa,KAAKrC,qBAA5B,CAAzB;AACA,gBAAIwC,UAAJ;;AAEA,iBAAKA,IAAI,CAAT,EAAYA,IAAIF,gBAAhB,EAAkCE,GAAlC,EAAuC;AACnC,oBAAMP,SAAS,KAAK1C,OAAL,CAAasB,WAAb,CAAyB9C,SAAS+C,aAAT,CAAuB,QAAvB,CAAzB,CAAf;AACA,qBAAKzB,QAAL,CAAcoD,IAAd,CAAmBR,MAAnB;AACA,qBAAK9D,IAAL,CAAU4C,KAAV,CAAgBkB,MAAhB,EAAwB;AACpBhB,8BAAU,UADU;AAEpByB,4BAAQ;AAFY,iBAAxB;AAIH;AACJ;;;iCAEQ;AACL,iBAAKC,cAAL;AACA,iBAAKC,iBAAL;AACA,iBAAKC,gBAAL;AACH;;;4CAEmB;AAChB,gBAAMP,mBAAmB,KAAKjD,QAAL,CAAc2C,MAAvC;AACA,gBAAIQ,UAAJ;AACA,iBAAKA,IAAI,CAAT,EAAYA,IAAIF,gBAAhB,EAAkCE,GAAlC,EAAuC;AACnC,oBAAMP,SAAS,KAAK5C,QAAL,CAAcmD,CAAd,CAAf;AACA,oBAAIM,cAAc,KAAK9C,qBAAvB;;AAEA,oBAAIwC,MAAMF,mBAAmB,CAA7B,EAAgC;AAC5BQ,kCAAc,KAAKrD,MAAL,CAAYF,OAAZ,CAAoBwC,WAApB,GAAmC,KAAK/B,qBAAL,IAA8BsC,mBAAmB,CAAjD,CAAjD;AACH;;AAEDL,uBAAOlC,KAAP,GAAe+C,cAAc,KAAKjD,UAAlC;AACAoC,uBAAO5D,MAAP,GAAgB,KAAKZ,MAAL,CAAYY,MAAZ,GAAqB,KAAKwB,UAA1C;AACA,qBAAK1B,IAAL,CAAU4C,KAAV,CAAgBkB,MAAhB,EAAwB;AACpBlC,2BAAU+C,WAAV,OADoB;AAEpBzE,4BAAW,KAAKZ,MAAL,CAAYY,MAAvB,OAFoB;AAGpB0E,0BAASP,IAAI,KAAKxC,qBAAlB;AAHoB,iBAAxB;AAKH;AACJ;;;2CAEkB;AACf,gBAAMgD,UAAU,KAAK9E,UAAL,CAAgB8E,OAAhC;AACA,gBAAMpC,WAAW,KAAK1C,UAAL,CAAgBT,MAAjC;AACA,gBAAMwF,WAAW,KAAK/E,UAAL,CAAgB8E,OAAhB,CAAwBE,WAAxB,EAAjB;AACA,gBAAMC,eAAenE,SAASiE,QAAT,EAAmB,EAAnB,IAAyB,CAA9C;AACA,gBAAMlD,QAAQa,SAASQ,UAAT,IAAuB,CAACR,SAASS,YAAjC,GACR,KAAK5B,MAAL,CAAY2D,QAAZ,EADQ,GAER,KAAK3D,MAAL,CAAYF,OAAZ,CAAoBwC,WAApB,GAAkCnB,SAASf,UAFjD;AAGA,gBAAMwD,kBAAkBtD,QAAQkD,QAAhC;;AAEA,gBAAMK,aAAa,KAAK7F,MAAL,CAAYoB,kBAA/B;AACA;AACA;AACA,gBAAM0E,kBAAkB,SAAlBA,eAAkB;AAAA,uBAAW,OAAOC,MAAP,KAAkB,UAAlB,GAA+BA,OAAOH,eAAP,CAA/B,GAAyDG,MAApE;AAAA,aAAxB;AACA,gBAAMvE,eAAesE,gBAAgB,KAAK9F,MAAL,CAAYwB,YAA5B,CAArB;AACA,gBAAME,uBAAuBoE,gBAAgB,KAAK9F,MAAL,CAAY0B,oBAA5B,CAA7B;AACA,gBAAMC,yBAAyBmE,gBAAgB,KAAK9F,MAAL,CAAY2B,sBAA5B,CAA/B;;AAEA,gBAAIqE,WAAW,CAAf;AACA,gBAAIC,aAAa,CAAjB;;AAEA,gBAAIT,YAAY,CAAhB,EAAmB;AACf;AACH;;AAED,gBAAMU,UAAU,KAAKlG,MAAL,CAAYY,MAAZ,GAAqB,CAArC;AACA,gBAAMuF,UAAW,KAAKnG,MAAL,CAAYY,MAAZ,IAAsB,KAAKZ,MAAL,CAAYa,kBAAZ,GAAiC,GAAvD,CAAD,GAAgE,CAAhF;AACA,gBAAMM,WAAW,KAAKnB,MAAL,CAAYmB,QAAZ,GAAuBgC,SAASf,UAAjD;AACA,gBAAI2C,UAAJ;;AAEA,iBAAKA,IAAI,CAAT,EAAYA,IAAIW,eAAelE,YAA/B,EAA6CuD,GAA7C,EAAkD;AAC9C,oBAAIA,IAAIrD,oBAAJ,IAA4B,CAAhC,EAAmC;AAC/B,yBAAK0E,aAAL,CAAmB,KAAKpG,MAAL,CAAYc,YAA/B;AACA,yBAAKuF,QAAL,CAAcL,QAAd,EAAwB,CAAxB,EAA2B,CAA3B,EAA8BE,OAA9B;AACA,yBAAKI,QAAL,CAAiBnF,QAAjB,WAA+B,KAAKnB,MAAL,CAAYkB,UAA3C;AACA,yBAAKkF,aAAL,CAAmB,KAAKpG,MAAL,CAAYgB,gBAA/B;AACA,yBAAKuF,QAAL,CAAcV,WAAWI,UAAX,CAAd,EAAsCD,WAAW,CAAjD,EAAoDE,OAApD;AACH,iBAND,MAMO,IAAInB,IAAIpD,sBAAJ,IAA8B,CAAlC,EAAqC;AACxC,yBAAKyE,aAAL,CAAmB,KAAKpG,MAAL,CAAYe,cAA/B;AACA,yBAAKsF,QAAL,CAAcL,QAAd,EAAwB,CAAxB,EAA2B,CAA3B,EAA8BE,OAA9B;AACA,yBAAKI,QAAL,CAAiBnF,QAAjB,WAA+B,KAAKnB,MAAL,CAAYkB,UAA3C;AACA,yBAAKkF,aAAL,CAAmB,KAAKpG,MAAL,CAAYiB,kBAA/B;AACA,yBAAKsF,QAAL,CAAcV,WAAWI,UAAX,CAAd,EAAsCD,WAAW,CAAjD,EAAoDE,OAApD;AACH,iBANM,MAMA;AACH,yBAAKE,aAAL,CAAmB,KAAKpG,MAAL,CAAYe,cAA/B;AACA,yBAAKsF,QAAL,CAAcL,QAAd,EAAwB,CAAxB,EAA2B,CAA3B,EAA8BG,OAA9B;AACH;;AAEDF,8BAAczE,YAAd;AACAwE,4BAAYJ,kBAAkBpE,YAA9B;AACH;AACJ;;;sCAEagF,S,EAAW;AACrB,iBAAK5E,QAAL,CAAc6E,OAAd,CAAsB,kBAAU;AAC5BjC,uBAAOkC,UAAP,CAAkB,IAAlB,EAAwBF,SAAxB,GAAoCA,SAApC;AACH,aAFD;AAGH;;;iCAEQG,I,EAAM;AACX,iBAAK/E,QAAL,CAAc6E,OAAd,CAAsB,kBAAU;AAC5BjC,uBAAOkC,UAAP,CAAkB,IAAlB,EAAwBC,IAAxB,GAA+BA,IAA/B;AACH,aAFD;AAGH;;;iCAEQC,C,EAAGC,C,EAAGvE,K,EAAO1B,M,EAAQ;AAAA;;AAC1B,iBAAKgB,QAAL,CAAc6E,OAAd,CAAsB,UAACjC,MAAD,EAASO,CAAT,EAAe;AACjC,oBAAM+B,aAAa/B,IAAI,OAAK1C,cAA5B;;AAEA,oBAAM0E,eAAe;AACjBC,wBAAIxE,KAAKyE,GAAL,CAASL,CAAT,EAAY7B,IAAI,OAAK1C,cAArB,CADa;AAEjB6E,wBAAIL,CAFa;AAGjBM,wBAAI3E,KAAK4E,GAAL,CAASR,IAAItE,KAAb,EAAoByC,IAAI,OAAK1C,cAAT,GAA0BmC,OAAOlC,KAArD,CAHa;AAIjB+E,wBAAIR,IAAIjG;AAJS,iBAArB;;AAOA,oBAAImG,aAAaC,EAAb,GAAkBD,aAAaI,EAAnC,EAAuC;AACnC3C,2BAAOkC,UAAP,CAAkB,IAAlB,EAAwBL,QAAxB,CACIU,aAAaC,EAAb,GAAkBF,UADtB,EAEIC,aAAaG,EAFjB,EAGIH,aAAaI,EAAb,GAAkBJ,aAAaC,EAHnC,EAIID,aAAaM,EAAb,GAAkBN,aAAaG,EAJnC;AAMH;AACJ,aAlBD;AAmBH;;;iCAEQI,I,EAAMV,C,EAAGC,C,EAAG;AACjB,gBAAIU,kBAAJ;AACA,gBAAIC,UAAU,CAAd;AACA,gBAAIzC,UAAJ;;AAEA,iBAAKA,CAAL,IAAU,KAAKnD,QAAf,EAAyB;AACrB,oBAAM6F,UAAU,KAAK7F,QAAL,CAAcmD,CAAd,EAAiB2B,UAAjB,CAA4B,IAA5B,CAAhB;AACA,oBAAMrB,cAAcoC,QAAQjD,MAAR,CAAelC,KAAnC;;AAEA,oBAAIkF,UAAUZ,IAAIW,SAAlB,EAA6B;AACzB;AACH;;AAED,oBAAIC,UAAUnC,WAAV,GAAwBuB,CAA5B,EAA+B;AAC3BW,gCAAYE,QAAQC,WAAR,CAAoBJ,IAApB,EAA0BhF,KAAtC;AACAmF,4BAAQlB,QAAR,CAAiBe,IAAjB,EAAuBV,IAAIY,OAA3B,EAAoCX,CAApC;AACH;;AAEDW,2BAAWnC,WAAX;AACH;AACJ;;;;;;kBAlTgBtF,c","file":"wavesurfer.timeline.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"timeline\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"timeline\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"timeline\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"localhost:8080/dist/plugin/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 212862eb802a8640f50e","/**\n * @typedef {Object} TimelinePluginParams\n * @desc Extends the `WavesurferParams` wavesurfer was initialised with\n * @property {!string|HTMLElement} container CSS selector or HTML element where\n * the timeline should be drawn. This is the only required parameter.\n * @property {number} notchPercentHeight=90 Height of notches in percent\n * @property {string} primaryColor='#000' The colour of the main notches\n * @property {string} secondaryColor='#c0c0c0' The colour of the secondary\n * notches\n * @property {string} primaryFontColor='#000' The colour of the labels next to\n * the main notches\n * @property {string} secondaryFontColor='#000' The colour of the labels next to\n * the secondary notches\n * @property {string} fontFamily='Arial'\n * @property {number} fontSize=10 Font size of labels in pixels\n * @property {function} formatTimeCallback=â†’00:00\n * @property {?boolean} deferInit Set to true to manually call\n * `initPlugin('timeline')`\n */\n\n/**\n * Adds a timeline to the waveform.\n *\n * @implements {PluginClass}\n * @extends {Observer}\n * @example\n * // es6\n * import TimelinePlugin from 'wavesurfer.timeline.js';\n *\n * // commonjs\n * var TimelinePlugin = require('wavesurfer.timeline.js');\n *\n * // if you are using <script> tags\n * var TimelinePlugin = window.WaveSurfer.timeline;\n *\n * // ... initialising wavesurfer with the plugin\n * var wavesurfer = WaveSurfer.create({\n *   // wavesurfer options ...\n *   plugins: [\n *     TimelinePlugin.create({\n *       // plugin options ...\n *     })\n *   ]\n * });\n */\nexport default class TimelinePlugin {\n    /**\n     * Timeline plugin definition factory\n     *\n     * This function must be used to create a plugin definition which can be\n     * used by wavesurfer to correctly instantiate the plugin.\n     *\n     * @param  {TimelinePluginParams} params parameters use to initialise the plugin\n     * @return {PluginDefinition} an object representing the plugin\n     */\n    static create(params) {\n        return {\n            name: 'timeline',\n            deferInit: params && params.deferInit ? params.deferInit : false,\n            params: params,\n            instance: TimelinePlugin\n        };\n    }\n\n    constructor(params, ws) {\n        this.container = 'string' == typeof params.container\n            ? document.querySelector(params.container)\n            : params.container;\n\n        if (!this.container) {\n            throw new Error('No container for wavesurfer timeline');\n        }\n        this.wavesurfer = ws;\n        this.util = ws.util;\n        this.params = this.util.extend({}, {\n            height: 20,\n            notchPercentHeight: 90,\n            primaryColor: '#000',\n            secondaryColor: '#c0c0c0',\n            primaryFontColor: '#000',\n            secondaryFontColor: '#000',\n            fontFamily: 'Arial',\n            fontSize: 10,\n            formatTimeCallback(seconds) {\n                if (seconds / 60 > 1) {\n                    // calculate minutes and seconds from seconds count\n                    const minutes = parseInt(seconds / 60, 10);\n                    seconds = parseInt(seconds % 60, 10);\n                    // fill up seconds with zeroes\n                    seconds = (seconds < 10) ? '0' + seconds : seconds;\n                    return `${minutes}:${seconds}`;\n                }\n                return seconds;\n            },\n            timeInterval(pxPerSec) {\n                if (pxPerSec >= 25) {\n                    return 1;\n                } else if (pxPerSec * 5 >= 25) {\n                    return 5;\n                } else if (pxPerSec * 15 >= 25) {\n                    return 15;\n                }\n                return 60;\n            },\n            primaryLabelInterval(pxPerSec) {\n                if (pxPerSec >= 25) {\n                    return 10;\n                } else if (pxPerSec * 5 >= 25) {\n                    return 6;\n                } else if (pxPerSec * 15 >= 25) {\n                    return 4;\n                }\n                return 4;\n            },\n            secondaryLabelInterval(pxPerSec) {\n                if (pxPerSec >= 25) {\n                    return 5;\n                } else if (pxPerSec * 5 >= 25) {\n                    return 2;\n                } else if (pxPerSec * 15 >= 25) {\n                    return 2;\n                }\n                return 2;\n            }\n        }, params);\n\n        this.canvases = [];\n\n        this._onScroll = () => {\n            this.wrapper.scrollLeft = this.drawer.wrapper.scrollLeft;\n        };\n        this._onRedraw = () => this.render();\n        this._onReady = () => {\n            this.drawer = ws.drawer;\n            this.pixelRatio = ws.drawer.params.pixelRatio;\n            this.maxCanvasWidth = ws.drawer.maxCanvasWidth || ws.drawer.width;\n            this.maxCanvasElementWidth = ws.drawer.maxCanvasElementWidth || Math.round(this.maxCanvasWidth / this.pixelRatio);\n\n            this.createWrapper();\n            this.render();\n            ws.drawer.wrapper.addEventListener('scroll', this._onScroll);\n            ws.on('redraw', this._onRedraw);\n        };\n    }\n\n    init() {\n        this.wavesurfer.on('ready', this._onReady);\n        // Check if ws is ready\n        if (this.wavesurfer.isReady) {\n            this._onReady();\n        }\n    }\n\n    destroy() {\n        this.unAll();\n        this.wavesurfer.un('redraw', this._onRedraw);\n        this.wavesurfer.un('ready', this._onReady);\n        this.wavesurfer.drawer.wrapper.removeEventListener('scroll', this._onScroll);\n        if (this.wrapper && this.wrapper.parentNode) {\n            this.wrapper.parentNode.removeChild(this.wrapper);\n            this.wrapper = null;\n        }\n    }\n\n    createWrapper() {\n        const wsParams = this.wavesurfer.params;\n        this.wrapper = this.container.appendChild(\n            document.createElement('timeline')\n        );\n        this.util.style(this.wrapper, {\n            display: 'block',\n            position: 'relative',\n            userSelect: 'none',\n            webkitUserSelect: 'none',\n            height: `${this.params.height}px`\n        });\n\n        if (wsParams.fillParent || wsParams.scrollParent) {\n            this.util.style(this.wrapper, {\n                width: '100%',\n                overflowX: 'hidden',\n                overflowY: 'hidden'\n            });\n        }\n\n        this._onClick = e => {\n            e.preventDefault();\n            const relX = 'offsetX' in e ? e.offsetX : e.layerX;\n            this.fireEvent('click', (relX / this.wrapper.scrollWidth) || 0);\n        };\n        this.wrapper.addEventListener('click', this._onClick);\n    }\n\n    removeOldCanvases() {\n        while (this.canvases.length > 0) {\n            const canvas = this.canvases.pop();\n            canvas.parentElement.removeChild(canvas);\n        }\n    }\n\n    createCanvases() {\n        this.removeOldCanvases();\n\n        const totalWidth = Math.round(this.drawer.wrapper.scrollWidth);\n        const requiredCanvases = Math.ceil(totalWidth / this.maxCanvasElementWidth);\n        let i;\n\n        for (i = 0; i < requiredCanvases; i++) {\n            const canvas = this.wrapper.appendChild(document.createElement('canvas'));\n            this.canvases.push(canvas);\n            this.util.style(canvas, {\n                position: 'absolute',\n                zIndex: 4\n            });\n        }\n    }\n\n    render() {\n        this.createCanvases();\n        this.updateCanvasStyle();\n        this.drawTimeCanvases();\n    }\n\n    updateCanvasStyle() {\n        const requiredCanvases = this.canvases.length;\n        let i;\n        for (i = 0; i < requiredCanvases; i++) {\n            const canvas = this.canvases[i];\n            let canvasWidth = this.maxCanvasElementWidth;\n\n            if (i === requiredCanvases - 1) {\n                canvasWidth = this.drawer.wrapper.scrollWidth - (this.maxCanvasElementWidth * (requiredCanvases - 1));\n            }\n\n            canvas.width = canvasWidth * this.pixelRatio;\n            canvas.height = this.params.height * this.pixelRatio;\n            this.util.style(canvas, {\n                width: `${canvasWidth}px`,\n                height: `${this.params.height}px`,\n                left: `${i * this.maxCanvasElementWidth}px`\n            });\n        }\n    }\n\n    drawTimeCanvases() {\n        const backend = this.wavesurfer.backend;\n        const wsParams = this.wavesurfer.params;\n        const duration = this.wavesurfer.backend.getDuration();\n        const totalSeconds = parseInt(duration, 10) + 1;\n        const width = wsParams.fillParent && !wsParams.scrollParent\n            ? this.drawer.getWidth()\n            : this.drawer.wrapper.scrollWidth * wsParams.pixelRatio;\n        const pixelsPerSecond = width / duration;\n\n        const formatTime = this.params.formatTimeCallback;\n        // if parameter is function, call the function with\n        // pixelsPerSecond, otherwise simply take the value as-is\n        const intervalFnOrVal = option => (typeof option === 'function' ? option(pixelsPerSecond) : option);\n        const timeInterval = intervalFnOrVal(this.params.timeInterval);\n        const primaryLabelInterval = intervalFnOrVal(this.params.primaryLabelInterval);\n        const secondaryLabelInterval = intervalFnOrVal(this.params.secondaryLabelInterval);\n\n        let curPixel = 0;\n        let curSeconds = 0;\n\n        if (duration <= 0) {\n            return;\n        }\n\n        const height1 = this.params.height - 4;\n        const height2 = (this.params.height * (this.params.notchPercentHeight / 100)) - 4;\n        const fontSize = this.params.fontSize * wsParams.pixelRatio;\n        let i;\n\n        for (i = 0; i < totalSeconds / timeInterval; i++) {\n            if (i % primaryLabelInterval == 0) {\n                this.setFillStyles(this.params.primaryColor);\n                this.fillRect(curPixel, 0, 1, height1);\n                this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n                this.setFillStyles(this.params.primaryFontColor);\n                this.fillText(formatTime(curSeconds), curPixel + 5, height1);\n            } else if (i % secondaryLabelInterval == 0) {\n                this.setFillStyles(this.params.secondaryColor);\n                this.fillRect(curPixel, 0, 1, height1);\n                this.setFonts(`${fontSize}px ${this.params.fontFamily}`);\n                this.setFillStyles(this.params.secondaryFontColor);\n                this.fillText(formatTime(curSeconds), curPixel + 5, height1);\n            } else {\n                this.setFillStyles(this.params.secondaryColor);\n                this.fillRect(curPixel, 0, 1, height2);\n            }\n\n            curSeconds += timeInterval;\n            curPixel += pixelsPerSecond * timeInterval;\n        }\n    }\n\n    setFillStyles(fillStyle) {\n        this.canvases.forEach(canvas => {\n            canvas.getContext('2d').fillStyle = fillStyle;\n        });\n    }\n\n    setFonts(font) {\n        this.canvases.forEach(canvas => {\n            canvas.getContext('2d').font = font;\n        });\n    }\n\n    fillRect(x, y, width, height) {\n        this.canvases.forEach((canvas, i) => {\n            const leftOffset = i * this.maxCanvasWidth;\n\n            const intersection = {\n                x1: Math.max(x, i * this.maxCanvasWidth),\n                y1: y,\n                x2: Math.min(x + width, i * this.maxCanvasWidth + canvas.width),\n                y2: y + height\n            };\n\n            if (intersection.x1 < intersection.x2) {\n                canvas.getContext('2d').fillRect(\n                    intersection.x1 - leftOffset,\n                    intersection.y1,\n                    intersection.x2 - intersection.x1,\n                    intersection.y2 - intersection.y1\n                );\n            }\n        });\n    }\n\n    fillText(text, x, y) {\n        let textWidth;\n        let xOffset = 0;\n        let i;\n\n        for (i in this.canvases) {\n            const context = this.canvases[i].getContext('2d');\n            const canvasWidth = context.canvas.width;\n\n            if (xOffset > x + textWidth) {\n                break;\n            }\n\n            if (xOffset + canvasWidth > x) {\n                textWidth = context.measureText(text).width;\n                context.fillText(text, x - xOffset, y);\n            }\n\n            xOffset += canvasWidth;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugin/timeline.js"],"sourceRoot":""}